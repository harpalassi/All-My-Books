{"version":3,"sources":["components/Header.js","components/BookResults.js","components/Button.js","components/Book.js","utils/API.js","config_keys.js","pages/Saved.js","components/SearchForm.js","components/BooksContainer.js","pages/Search.js","components/Navbar.js","App.js","registerServiceWorker.js","index.js"],"names":["Header","react_default","a","createElement","className","BookResults","props","title","children","Button","onClick","id","Book","authors","thumbnail","src","alt","description","href","link","target","saveBook","components_Button","deleteBook","APIKEY","concat","API","search","query","axios","get","getSavedBooks","book","post","delete","Saved","state","resultTitle","result","loadBooks","then","res","_this","setState","data","catch","err","console","log","this","_id","_this2","components_Header","components_BookResults","map","components_Book","key","image","author","Component","SearchForm","onChange","handleInputChange","value","type","name","placeholder","handleFormSubmit","BooksContainer","saved","searchBooks","items","event","preventDefault","parentNode","querySelector","textContent","Object","defineProperty","components_SearchForm","volumeInfo","infoLink","imageLinks","Search","components_BooksContainer","Navbar","Link","to","App","BrowserRouter","components_Navbar","Route","exact","path","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error","ReactDOM","render","src_App","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.740c9d41.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Header = () => {\n  return (\n    <div className=\"header\">\n      <div className=\"title\">\n        <h1>(React) Google Books Search</h1>\n        <h4>Search and Save Books of Interest</h4>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nconst BookResults = props => {\n  return (\n    <div className=\"book-results\">\n      <h5>{props.title}</h5>\n      {props.children}\n    </div>\n  );\n};\n\nexport default BookResults;\n","import React, { Component } from \"react\";\n\nconst Button = props => {\n  if (props.children === \"Save\") {\n    return (\n      <a className=\"waves-effect waves-light btn\" onClick={props.onClick}>\n        {props.children}\n      </a>\n    );\n  } else {\n    return (\n      <a\n        className=\"waves-effect waves-light btn\"\n        onClick={() => props.onClick(props.id)}\n      >\n        {props.children}\n      </a>\n    );\n  }\n};\n\nexport default Button;\n","import React from \"react\";\nimport Button from \"./Button\";\n\nconst Book = props => {\n  return (\n    <div className=\"book\">\n      <h6 className=\"book-title\">{props.title}</h6>\n      <span className=\"book-authors\">{props.authors}</span>\n      <div className=\"book-details\">\n        {props.thumbnail ? (\n          <img className=\"book-img\" src={props.thumbnail} alt=\"\" />\n        ) : (\n          <span />\n        )}\n        <span className=\"book-text\">{props.description}</span>\n      </div>\n      <div className=\"book-btn\">\n        <a\n          href={props.link}\n          className=\"waves-effect waves-light btn\"\n          target=\"_blank\"\n        >\n          View\n        </a>\n        {!props.saveBook ? (\n          <Button id={props.id} onClick={props.deleteBook}>\n            Delete\n          </Button>\n        ) : (\n          <Button onClick={props.saveBook}>Save</Button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Book;\n","import axios from \"axios\";\nimport REACT_APP_GOOGLE_BOOKS from \"../config_keys\";\n\nconst BASEURL = \"https://www.googleapis.com/books/v1/volumes?q=\";\nconst APIKEY = `&key=${REACT_APP_GOOGLE_BOOKS}`;\n\nexport default {\n  // gets books from google books api\n  search: function(query) {\n    return axios.get(BASEURL + query + APIKEY);\n  },\n  // gets saved books from db\n  getSavedBooks: function() {\n    return axios.get(\"/api/books\");\n  },\n  // save a book to db\n  saveBook: function(book) {\n    return axios.post(\"/api/books\", book);\n  },\n  deleteBook: function(id) {\n    return axios.delete(\"/api/books/\" + id);\n  }\n};\n","const REACT_APP_GOOGLE_BOOKS = \"AIzaSyBlx8WiirxVWdhmsTFiYeEM2QlQq8Nf1U0\";\nexport default REACT_APP_GOOGLE_BOOKS;\n","import React, { Component } from \"react\";\nimport Header from \"../components/Header\";\nimport BookResults from \"../components/BookResults\";\nimport Book from \"../components/Book\";\nimport API from \"../utils/API\";\n\nclass Saved extends Component {\n  state = {\n    resultTitle: \"Saved Books\",\n    result: []\n  };\n\n  componentDidMount() {\n    this.loadBooks();\n  }\n\n  loadBooks = () => {\n    API.getSavedBooks()\n      .then(res => this.setState({ result: res.data }))\n      .catch(err => console.log(err));\n  };\n\n  deleteBook = id => {\n    console.log(id);\n    API.deleteBook(id)\n      .then(res => this.loadBooks())\n      .catch(err => console.log(err));\n  };\n\n  componentDidUpdate() {\n    console.log(this.state.result[0]._id);\n  }\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <BookResults title={this.state.resultTitle}>\n          {this.state.result.map(result => (\n            <Book\n              key={result._id}\n              title={result.title}\n              link={result.link}\n              thumbnail={result.image}\n              description={result.description}\n              authors={\n                result.authors\n                  ? result.authors.map(author => author + \" \")\n                  : \"Unknown\"\n              }\n              deleteBook={this.deleteBook}\n              id={result._id}\n            />\n          ))}\n        </BookResults>\n      </div>\n    );\n  }\n}\n\nexport default Saved;\n","import React from \"react\";\n\nconst SearchForm = props => {\n  return (\n    <form>\n      <div className=\"search-form\">\n        <h5>Book Search</h5>\n        <div className=\"input-field\">\n          <input\n            onChange={props.handleInputChange}\n            value={props.value}\n            type=\"text\"\n            name=\"search\"\n            placeholder=\"Enter Book Here\"\n          />\n        </div>\n        <button\n          className=\"btn waves-effect waves-light\"\n          type=\"submit\"\n          name=\"submit\"\n          onClick={props.handleFormSubmit}\n        >\n          Search\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import React, { Component } from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport API from \"../utils/API\";\nimport BookResults from \"./BookResults\";\nimport Book from \"./Book\";\n\nclass BooksContainer extends Component {\n  state = {\n    result: [],\n    search: \"\",\n    resultTitle: \"Results\",\n    saved: false\n  };\n\n  componentDidUpdate() {\n    console.log(this.state.result);\n  }\n\n  searchBooks = query => {\n    API.search(query)\n      .then(res => this.setState({ result: res.data.items }))\n      .catch(err => console.log(err));\n    this.setState({ search: \"\" });\n  };\n\n  saveBook = event => {\n    event.preventDefault();\n    const target = event.target.parentNode.parentNode;\n    API.saveBook({\n      title: target.querySelector(\"h6\").textContent,\n      authors: target.querySelector(\".book-authors\").textContent,\n      description: target.querySelector(\".book-text\").textContent,\n      image: target.querySelector(\"img\").src,\n      link: target.querySelector(\"a\").href\n    }).then(res => console.log(res));\n    // console.log(book);\n  };\n\n  handleInputChange = event => {\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    this.searchBooks(this.state.search);\n    // console.log(this.state.search);\n  };\n\n  render() {\n    return (\n      <div>\n        <SearchForm\n          value={this.state.search}\n          handleInputChange={this.handleInputChange}\n          handleFormSubmit={this.handleFormSubmit}\n        />\n        <BookResults title={this.state.resultTitle}>\n          {this.state.result ? (\n            this.state.result.map(result => (\n              <Book\n                key={result.id}\n                title={result.volumeInfo.title}\n                link={result.volumeInfo.infoLink}\n                thumbnail={\n                  result.volumeInfo.imageLinks\n                    ? result.volumeInfo.imageLinks.thumbnail\n                    : {}\n                }\n                description={result.volumeInfo.description}\n                authors={\n                  result.volumeInfo.authors\n                    ? result.volumeInfo.authors.map(author => author + \" \")\n                    : \"Unknown\"\n                }\n                saveBook={this.saveBook}\n              />\n            ))\n          ) : (\n            <h2 className=\"no-results\">No results!</h2>\n          )}\n        </BookResults>\n      </div>\n    );\n  }\n}\n\nexport default BooksContainer;\n","import React from \"react\";\nimport Header from \"../components/Header\";\nimport BooksContainer from \"../components/BooksContainer\";\nconst Search = () => {\n  return (\n    <div>\n      <Header />\n      <BooksContainer />\n    </div>\n  );\n};\n\nexport default Search;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav>\n      <div className=\"nav-wrapper\">\n        <a href=\"#\" className=\"title\">\n          Google Books\n        </a>\n        <ul className=\"right\">\n          <li>\n            <Link to=\"/search\">Search</Link>\n          </li>\n          <li>\n            <Link to=\"/saved\">Saved</Link>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Saved from \"./pages/Saved\";\r\nimport Search from \"./pages/Search\";\r\nimport Navbar from \"./components/Navbar\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Navbar />\r\n          <div className=\"container\">\r\n            <Route exact path=\"/\" component={Search} />\r\n            <Route exact path=\"/search\" component={Search} />\r\n            <Route exact path=\"/saved\" component={Saved} />\r\n          </div>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (!isLocalhost) {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      } else {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log(\"New content is available; please refresh.\");\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}